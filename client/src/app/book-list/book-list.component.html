<app-navbar />

<div class="book-list-container">
  <h2 class="page-title">ðŸ“š My Books</h2>

  <p *ngIf="errorMessage" class="error-text">{{ errorMessage }}</p>

  <div *ngIf="books.length; else noBooks" class="book-grid">
    <mat-card
      *ngFor="let book of books"
      class="book-card"
      [ngClass]="book.isRead ? 'read-gradient' : 'unread-gradient'"
    >
      <mat-card-title class="card-title">{{ book.title }}</mat-card-title>
      <mat-card-content>
        <p class="card-author">by {{ book.author }}</p>
        <p>
          Status: <strong>{{ book.isRead ? "Read" : "Unread" }}</strong>
        </p>
      </mat-card-content>

      <mat-card-actions>
        <button
          class="button"
          mat-button
          color="accent"
          (click)="toggleRead(book.id)"
        >
          <span class="material-symbols-outlined"> auto_stories </span>
        </button>
        <a
          class="button edit-button"
          mat-button
          color="primary"
          [routerLink]="['/book/edit', book.id]"
          >Edit</a
        >
        <button
          class="button warn-button"
          mat-button
          color="warn"
          (click)="deleteBook(book.id)"
        >
          Delete
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <ng-template #noBooks>
    <p class="empty-text">No books found.</p>
  </ng-template>
</div>

<!-- backupsimple -->
<!-- <app-navbar />
<h2>My Books</h2>
<p *ngIf="errorMessage" style="color: red">{{ errorMessage }}</p>
<ul *ngIf="books.length">
  <li *ngFor="let book of books">
    <strong>{{ book.title }}</strong> by {{ book.author }} â€”
    <em>{{ book.isRead ? "Read" : "Unread" }}</em>
    <button (click)="toggleRead(book.id)">Toggle</button>
  </li>
</ul>
<p *ngIf="!books.length && !errorMessage">No books found.</p> -->

<!-- <app-navbar /> -->
<!-- 

<div class="max-w-4xl mx-10 p-6">
  <h2 class="text-2xl font-bold mb-6">ðŸ“š My Books</h2>

  <p *ngIf="errorMessage" class="text-red-600 mb-4">{{ errorMessage }}</p>

  <div *ngIf="books.length; else noBooks" class="grid md:grid-cols-2 gap-4">
    <div
      *ngFor="let book of books"
      class="p-4 rounded-lg shadow-md text-white"
      [ngClass]="
        book.isRead
          ? 'bg-gradient-to-r from-purple-500 via-pink-500 to-red-500'
          : 'bg-gradient-to-r from-blue-500 via-teal-500 to-green-500'
      "
    >
      <h3 class="text-lg font-semibold">{{ book.title }}</h3>
      <p class="italic mb-2">by {{ book.author }}</p>
      <p>
        Status: <strong>{{ book.isRead ? "Read" : "Unread" }}</strong>
      </p>

      <button
        (click)="toggleRead(book.id)"
        class="mt-3 bg-white text-gray-800 px-3 py-1 rounded hover:bg-gray-100 transition"
      >
        Toggle Read
      </button>


      <a
        [routerLink]="['/book/edit', book.id]"
        class="mt-2 ml-2 bg-yellow-300 text-black px-3 py-1 rounded hover:bg-yellow-400 transition inline-block"
      >
        Edit
      </a>


      <button
        (click)="deleteBook(book.id)"
        class="mt-2 ml-2 bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition"
      >
        Delete
      </button>
    </div>
  </div>

  <ng-template #noBooks>
    <p class="text-gray-600 mt-6">No books found.</p>
  </ng-template>
</div>
 -->
